import{a as R,b,r as E,ac as k,ad as y,j as s,s as o,o as T,ae as B,Q as F,af as $}from"./index-3hR12qFU.js";import{B as I,W as L,T as U,F as W,a as l,L as w,I as x,b as d,E as u,c as C,d as D,e as q}from"./SignUpPage.styled-fBjFpCT0.js";import"./bgTable-BC5h5Xl1.js";const A=()=>{var p,c;const{register:n,handleSubmit:j,formState:{errors:e},reset:m}=R({mode:"onTouched",resolver:T($)}),g=b(),[r,f]=E.useState(!1),P=k()[0].get("resetToken"),S=y();function v({newPassword:a},t){t.preventDefault(),g(B({newPassword:a,resetToken:P})).then(i=>{i.meta.requestStatus==="fulfilled"&&S("/signin")}).catch(i=>{F.error("Error updating password:",i)}),m()}const h=a=>{f(t=>({...t,[a]:!t[a]}))};return s.jsxs(I,{children:[s.jsxs(L,{children:[s.jsx(U,{children:"Update password"}),s.jsxs(W,{onSubmit:j(v),children:[s.jsxs(l,{children:[s.jsx(w,{children:"Enter your password"}),s.jsx(x,{type:r.newPassword?"text":"password",placeholder:"Password",...n("newPassword"),errors:!!e.password}),s.jsx("div",{onClick:()=>h("newPassword"),children:r.newPassword?s.jsx(d,{width:"16",height:"16",children:s.jsx("use",{href:`${o}#vision`})}):s.jsx(d,{width:"16",height:"16",children:s.jsx("use",{href:`${o}#vision-crossed`})})}),s.jsx(u,{children:(p=e.password)==null?void 0:p.message})]}),s.jsxs(l,{children:[s.jsx(w,{children:"Repeat password"}),s.jsx(x,{type:r.passwordRepeat?"text":"password",placeholder:"Repeat password",...n("passwordRepeat"),errors:!!e.passwordRepeat}),s.jsx("div",{onClick:()=>h("passwordRepeat"),children:r.passwordRepeat?s.jsx(d,{width:"16",height:"16",children:s.jsx("use",{href:`${o}#vision`})}):s.jsx(d,{width:"16",height:"16",children:s.jsx("use",{href:`${o}#vision-crossed`})})}),s.jsx(u,{children:(c=e.passwordRepeat)==null?void 0:c.message})]}),s.jsx(C,{type:"submit",children:"Update password"}),s.jsx(D,{to:"/signin",children:"Sign In"})]})]}),s.jsx(q,{})]})};export{A as default};
