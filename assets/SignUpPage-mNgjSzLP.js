import{a as k,b as B,r as T,j as s,s as o,o as U,c as F,d as I,Q as y,e as P}from"./index-3hR12qFU.js";import{B as $,W as L,T as W,F as C,a as n,L as d,I as h,E as p,b as c,c as D,d as N,e as Q}from"./SignUpPage.styled-fBjFpCT0.js";import"./bgTable-BC5h5Xl1.js";const A=()=>{var j,m,u,w;const{register:a,handleSubmit:S,formState:{errors:e},reset:f}=k({mode:"onTouched",resolver:U(P)}),l=B(),[i,R]=T.useState(!1),E=async({username:t,email:r,password:g},b)=>{b.preventDefault();try{await l(F({username:t,email:r,password:g})).unwrap(),await l(I({email:r,password:g})),f(),y.success("Registration completed successfully")}catch(v){y.error(v.message)}},x=t=>{R(r=>({...r,[t]:!r[t]}))};return s.jsxs($,{children:[s.jsxs(L,{children:[s.jsx(W,{children:"Sign Up"}),s.jsxs(C,{onSubmit:S(E),children:[s.jsxs(n,{children:[s.jsx(d,{children:"Enter your name"}),s.jsx(h,{type:"text",placeholder:"Name",...a("username"),errors:!!e.username}),s.jsx(p,{children:(j=e.username)==null?void 0:j.message})]}),s.jsxs(n,{children:[s.jsx(d,{children:"Enter your email"}),s.jsx(h,{type:"email",placeholder:"E-mail",...a("email"),errors:!!e.email}),s.jsx(p,{children:(m=e.email)==null?void 0:m.message})]}),s.jsxs(n,{children:[s.jsx(d,{children:"Enter your password"}),s.jsx(h,{type:i.password?"text":"password",placeholder:"Password",...a("password"),errors:!!e.password}),s.jsx("div",{onClick:()=>x("password"),children:i.password?s.jsx(c,{width:"16",height:"16",children:s.jsx("use",{href:`${o}#vision`})}):s.jsx(c,{width:"16",height:"16",children:s.jsx("use",{href:`${o}#vision-crossed`})})}),s.jsx(p,{children:(u=e.password)==null?void 0:u.message})]}),s.jsxs(n,{children:[s.jsx(d,{children:"Repeat password"}),s.jsx(h,{type:i.passwordRepeat?"text":"password",placeholder:"Repeat password",...a("passwordRepeat"),errors:!!e.passwordRepeat}),s.jsx("div",{onClick:()=>x("passwordRepeat"),children:i.passwordRepeat?s.jsx(c,{width:"16",height:"16",children:s.jsx("use",{href:`${o}#vision`})}):s.jsx(c,{width:"16",height:"16",children:s.jsx("use",{href:`${o}#vision-crossed`})})}),s.jsx(p,{children:(w=e.passwordRepeat)==null?void 0:w.message})]}),s.jsx(D,{type:"submit",children:"Sign Up"}),s.jsx(N,{to:"/signin",children:"Sign In"})]})]}),s.jsx(Q,{})]})};export{A as default};
